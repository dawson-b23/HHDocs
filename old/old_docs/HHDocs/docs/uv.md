# Getting Started

Welcome to the UV docs. UV is an extremely fast Python package and project manager developed by Astral. It serves as a drop-in replacement for common tools like pip, virtualenv, and pip-tools, with features for managing projects, dependencies, virtual environments, and more. UV emphasizes speed, reproducibility, and ease of use, making it ideal for development workflows.

This documentation aims to provide in-depth coverage of UV's features and usage, reducing the need to consult the official docs unless advanced or niche details are required. It covers installation, basic workflows, CLI commands, concepts, and configuration.

For more information or the latest updates, please see the official UV docs: [https://docs.astral.sh/uv/].

## Components

  - General: Covers installation, core concepts, and CLI overview.
  - Usage: Examples of common workflows, including project management, scripts, and dependencies.
  - Configuration: Settings and customization options.
  - CLI Reference: Detailed command-line interface documentation.
  - Advanced Topics: Integrations, best practices, and troubleshooting.

## General
### Overview

UV streamlines Python development by handling package installation, dependency resolution, virtual environments, and project management in a unified tool. Key features include:

  - Ultra-fast dependency resolution and installation (often 10-100x faster than pip).
  - Automatic locking for reproducible environments via uv.lock.
  - Project-based workflows with pyproject.toml for configuration.
  - Support for scripts, workspaces, and advanced dependency groups.
  - Compatibility with PEP standards like PEP 517/518 for builds.

UV manages virtual environments automatically, creating them in .venv directories by default. It supports Python versions from 3.8+, and can download Pythons on-demand.

## Installation

UV can be installed via multiple methods across platforms. The standalone installer is recommended for most users as it doesn't require Python pre-installed.
macOS and Linux (Standalone Installer)

### Use curl to download and install:
```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```
### Alternatively, with wget:
```bash
wget -qO- https://astral.sh/uv/install.sh | sh
```
For a specific version (e.g., 0.8.3):
```bash
curl -LsSf https://astral.sh/uv/0.8.3/install.sh | sh
```

Inspect the script first if desired:
```bash
curl -LsSf https://astral.sh/uv/install.sh | less
```
### Windows (Standalone Installer)
In PowerShell:
```powershell
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

For a specific version (e.g., 0.8.3):
```powershell
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/0.8.3/install.ps1 | iex"
```

Inspect the script:
```powershell
powershell -c "irm https://astral.sh/uv/install.ps1 | more"
```
### Homebrew (macOS)
```bash
brew install uv
```
### WinGet (Windows)
```powershell
winget install --id=astral-sh.uv -e
```
### Scoop (Windows)
```powershell
scoop install main/uv
```
### PyPI (All Platforms, Recommended with pipx)
Requires Python pre-installed. Use pipx for isolation:
```bash
pipx install uv
```

Or directly with pip (may require Rust for building):
```bash
pip install uv
```

### Cargo (All Platforms)
Build from source (requires Rust):
```bash
cargo install --git https://github.com/astral-sh/uv uv
```

### Docker (All Platforms)
Use the official image: ghcr.io/astral-sh/uv. See integration guides for details.

After installation, verify with uv --version. UV installs to ~/.cargo/bin by default on Unix-like systems; add it to your PATH if needed.

## Core Concepts
### Projects

UV projects manage multi-file Python codebases. A project is defined by a pyproject.toml file, which includes metadata, dependencies, and configuration. UV creates a virtual environment in .venv automatically.

  - Structure: Root directory with pyproject.toml, source code (e.g., in src/), optional uv.lock for locked dependencies, and .venv/ for the environment.
  - pyproject.toml: Uses [project] for metadata (name, version, etc.) and [tool.uv] for UV-specific settings. Dependencies are listed under [project.dependencies].
  - Virtual Environments: Created on-demand in .venv. UV activates them automatically for commands like uv run.
  - uv.lock: A lockfile for reproducible installs, generated by uv lock or implicitly during workflows.
  - Scripts: Defined in [project.scripts] for entry points.
  - Workflow: Init project → Add deps → Sync/lock → Run code.

### Dependencies

Dependencies are specified in pyproject.toml using PEP 621 format (e.g., requests = "^2.0"). UV resolves them against indexes like PyPI, locks versions in uv.lock, and installs into the environment.

  - Specification: In [project.dependencies], [project.optional-dependencies], or dependency groups.
  - Resolution: Uses a fast resolver considering constraints, platforms, and Python versions.
  - Installation: Handles wheels, sdists, and caching for speed.
  - Locking: uv lock creates/updates uv.lock for exact versions and hashes.

### Virtual Environments

UV manages venvs transparently:

  - Created via uv venv or automatically in projects.
  - Supports managed Pythons (downloads specific versions).
  - Paths: Project venvs in .venv, global in ~/.local/uv/.
  - Activation: Automatic in UV commands; manual via source .venv/bin/activate.

### Commands Overview

UV's CLI is structured around subcommands. Use uv help for details. Common ones include:

  - uv init [name]: Create a new project. Uses current dir if no name provided.
  - uv add [packages]: Add dependencies to pyproject.toml and update the lockfile/environment.
  - uv remove [packages]: Remove dependencies from pyproject.toml and update.
  - uv sync: Install/update the environment to match pyproject.toml and uv.lock.
  - uv lock: Update the lockfile without installing.
  - uv run [command]: Run a command or script in the project environment.
  - uv python [options]: Manage Python installations.
  - uv pip [subcommand]: Pip-compatible interface for package management.
  - uv venv [path]: Create a virtual environment.
  - uv tool [subcommand]: Manage global tools/executables.
  - uv cache [subcommand]: Manage the cache.
  - uv build: Build wheels/sdists.
  - uv publish: Upload to PyPI.
  - uv export: Export requirements/lockfiles.
  - uv tree: Display dependency tree.
  - uv version: Show UV version.
  - uv self [subcommand]: Manage UV itself (e.g., update).

Many commands share global options like --cache-dir, --index-url, --verbose, --quiet, --color, etc.

### Usage
Basic Workflow for Projects

#### Create a Project:
```bash
uv init myproject
cd myproject
```
This creates pyproject.toml and .venv.

#### Add Dependencies:
```bash
uv add requests
```
Updates pyproject.toml, resolves/locks, and installs.

#### Run Code: Create main.py:
```python
import requests
print(requests.get("https://example.com").text)
```
#### Run:
```bash
uv run python main.py
```
#### Or directly (preferred method):
```bash
uv run main.py
```
#### Sync Environment:
```bash
uv sync
```
Ensures the venv matches the lockfile.

#### Lock Dependencies:
```bash
uv lock
```
Updates uv.lock for reproducibility.

#### Managing Scripts

UV excels at running single-file scripts with dependencies.

Without Dependencies:
```bash
uv run script.py
```

With Dependencies:
```bash
uv run --with rich script.py
```

#### Inline Metadata: Add to script.py:
```python
# /// script
# dependencies = ["requests"]
# ///
import requests
```
Then: uv run script.py.

#### Lock Script:
```bash
uv lock --script script.py
```
Creates script.py.lock.

#### Shebang for Executables:
```python

    #!/usr/bin/env -S uv run
    # /// script
    # dependencies = ["requests"]
    # ///
    import requests
```
Make executable: chmod +x script.py, then ./script.py.

### Advanced Usage Examples

Add Optional Dependencies:
```bash
uv add --optional test pytest
uv sync --extra test
```

Dependency Groups: In pyproject.toml:
```toml
[dependency-groups]
lint = ["ruff"]
```
Add: uv add --group lint ruff Sync: uv sync --group lint

Upgrade Packages:
```bash
uv add --upgrade requests
```

Export Requirements:
```bash
uv export --format requirements-txt > requirements.txt
```

Install from requirements.txt (Pip Compatibility):
```bash
uv pip install -r requirements.txt
```

Manage Pythons:
```bash
uv python install 3.12
uv run --python 3.12 python --version
```

Global Tools:
```bash
uv tool install cowsay
cowsay "Hello UV!"
```

### Configuration

UV can be configured via uv.toml (global or per-project), pyproject.toml ([tool.uv]), or environment variables. Key settings include:

  - build-constraint-dependencies (list[str]): Constraints for build deps. Default: []. Example: build-constraint-dependencies = ["setuptools==60.0.0"]
  - constraint-dependencies (list[str]): Version constraints. Default: []. Example: constraint-dependencies = ["grpcio<1.65"]
  - default-groups (str | list[str]): Groups installed by default. Default: ["dev"]. Example: default-groups = ["docs"]
  - dev-dependencies (list[str]): Dev deps (legacy; use groups). Default: []. Example: dev-dependencies = ["ruff==0.5.0"]
  - environments (str | list[str]): Supported platforms. Default: []. Example: environments = ["sys_platform == 'darwin'"]
  - index (dict): Custom indexes. Example:
```toml

    [[tool.uv.index]]
    name = "pytorch"
    url = "https://download.pytorch.org/whl/cu121"
```
  - managed (bool): If UV manages the project. Default: true.
  - override-dependencies (list[str]): Force versions. Default: []. Example: override-dependencies = ["werkzeug==2.3.0"]
  - package (bool): Treat as package. Default: true.

Environment variables like UV_CACHE_DIR, UV_INDEX_URL, UV_VERBOSE override settings.

## CLI Reference

This section details all UV CLI commands, subcommands, and options based on the official reference.
uv

An extremely fast Python package manager.
Usage: uv [OPTIONS] <COMMAND>
Global Options (Shared Across Commands)

    --allow-insecure-host <HOST>: Allow insecure hosts (multiple).
    --cache-dir <DIR>: Cache path.
    --color <CHOICE>: Color output (auto/always/never).
    --compile-bytecode: Compile to bytecode.
    --config-file <FILE>: Config file.
    --config-setting <KEY=VALUE>: Build settings (multiple).
    --default-index <URL>: Default index.
    --exclude-newer <DATE>: Limit packages by upload date.
    --extra-index-url <URL>: Extra indexes (deprecated).
    --find-links <PATH/URL>: Flat indexes.
    --index <URL>: Indexes (multiple).
    --index-strategy <STRATEGY>: Resolution strategy (first-index/unsafe-first-match/unsafe-best-match).
    --index-url <URL>: Main index (deprecated).
    --keyring-provider <TYPE>: Auth method (disabled/subprocess).
    --link-mode <MODE>: Install method (clone/copy/hardlink/symlink).
    --python-preference <PREF>: Python source (managed/system/only-managed/only-system).
    --quiet, -q: Reduce output.
    --refresh: Refresh cache.
    --resolution <STRATEGY>: Version selection (highest/lowest/lowest-direct).
    --upgrade, -U: Allow upgrades.
    --verbose, -v: Increase output.

uv add

Add dependencies to the project.
Usage: uv add [OPTIONS] <REQUIREMENTS>...

Options:

    --dev: Add as dev dependency (legacy).
    --editable: Install editable.
    --extra <EXTRA>: Add to extra.
    --frozen: No lock update.
    --group <GROUP>: Add to group.
    --locked: Assert lock unchanged.
    --optional <OPTIONAL>: Add to optional.
    --package <PKG>: For workspace member.
    --raw-sources: No normalization.
    --rev <REV>: Git revision.
    --script <SCRIPT>: Update script metadata.
    --tag <TAG>: Git tag. And global options.

uv remove

Remove dependencies.
Usage: uv remove [OPTIONS] <NAMES>...

Options:

    --dev: Remove from dev.
    --frozen: No lock update.
    --group <GROUP>: From group.
    --locked: Assert lock.
    --optional <OPTIONAL>: From optional.
    --package <PKG>: Workspace member.
    --script <SCRIPT>: Update script. And globals.

uv sync

Sync environment with lockfile.
Usage: uv sync [OPTIONS]

Options:

    --all-extras: Include all extras.
    --all-groups: All groups.
    --check: Check only.
    --dev: Include dev (legacy).
    --exact: Remove extras.
    --extra <EXTRA>: Specific extra.
    --frozen: No lock update.
    --group <GROUP>: Specific group.
    --locked: Assert lock.
    --no-dev: Exclude dev.
    --no-group <GROUP>: Exclude group.
    --no-install-project: Skip project install.
    --no-install-workspace: Skip workspace.
    --package <PKG>: Specific package. And globals.

uv lock

Update lockfile.
Usage: uv lock [OPTIONS]

Options:

    --all-packages: Lock workspace.
    --locked: Assert unchanged.
    --no-upgrade: Pin current.
    --package <PKG>: Specific.
    --upgrade-package <PKG>: Upgrade specific. And globals.

uv run

Run command or script in environment.
Usage: uv run [OPTIONS] [COMMAND]...

Options:

    --all-extras: All extras.
    --all-groups: All groups.
    --dev: Include dev.
    --extra <EXTRA>: Specific extra.
    --frozen: No lock update.
    --group <GROUP>: Specific group.
    --isolated: Isolated venv.
    --locked: Assert lock.
    --no-dev: Exclude dev.
    --no-group <GROUP>: Exclude group.
    --no-project: Skip project.
    --package <PKG>: Specific package.
    --with <REQ>: Ad-hoc dep.
    --with-requirements <FILE>: From file. And globals.

uv init

Initialize project.
Usage: uv init [OPTIONS] [PATH]

Options:

    --app: Include FastAPI template.
    --lib: Library template.
    --name <NAME>: Project name.
    --no-package: Virtual project.
    --no-pin-python: No Python pin.
    --no-readme: Skip README.
    --no-workspace: No workspace.
    --package: Package project.
    --python, -p <VER>: Python version.
    --script: Script mode. And globals.

uv export

Export lockfile.
Usage: uv export [OPTIONS]

Options:

    --all-extras: All extras.
    --all-packages: Workspace.
    --dev: Include dev.
    --extra <EXTRA>: Extra.
    --format <FMT>: Format (requirements-txt).
    --group <GROUP>: Group.
    --hashes: Include hashes.
    --locked: Assert lock.
    --no-dev: Exclude dev.
    --no-emit-build-requirement: Skip build reqs.
    --no-emit-find-links: Skip find-links.
    --no-emit-index-url: Skip index.
    --no-emit-marker: Skip markers.
    --no-emit-via: Skip install via.
    --no-group <GROUP>: Exclude group.
    --no-header: Skip header.
    --no-project: Skip project.
    --output-file, -o <FILE>: Output file.
    --package <PKG>: Specific. And globals.

uv tree

Display dependency tree.
Usage: uv tree [OPTIONS]

Options:

    --all-packages: Workspace.
    --depth <DEPTH>: Max depth.
    --locked: Assert lock.
    --no-dedupe: Show duplicates.
    --package <PKG>: Specific.
    --prune <PKG>: Prune package.
    --python-version <VER>: Filter by Python. And globals.

uv tool

Manage global executables.
Subcommands: install, list, run, dir, uninstall, update, update-shell.

Example: uv tool install cowsay
uv python

Manage Python installations.
Subcommands: find, install, list, dir, uninstall.

Example: uv python install 3.12
uv pip

Pip-compatible commands.
Subcommands: compile, install, uninstall, freeze, list, show, tree, sync.

Example: uv pip install -r requirements.txt
uv venv

Create virtual environment.
Usage: uv venv [OPTIONS] [PATH]

Options:

    --python, -p <VER>: Python version.
    --seed: Install seed packages. And globals.

uv build

Build distributions.
Usage: uv build [OPTIONS] [PATH]

Subcommands: wheel, sdist.
Options: --out-dir <DIR>, etc.
uv publish

Upload to index.
Usage: uv publish [OPTIONS] <PATHS>...

Options: --username <USER>, --password <PASS>, etc.
uv cache

Manage cache.
Subcommands: clean, dir, prune, size.

Example: uv cache clean
uv self

Manage UV.
Subcommands: update.

Example: uv self update
uv version

Show version.
Usage: uv version [OPTIONS]

Options: --short, etc.
uv help

Show help.
Advanced Topics
Integrations

    Docker: Use UV in containers for reproducible builds.
    Git: Specify Git deps like uv add git+https://github.com/user/repo.git.
    Workspaces: Manage monorepos with root pyproject.toml and [tool.uv.workspace].
    Keyring: Enable for secure auth with --keyring-provider subprocess.

Best Practices

    Commit pyproject.toml and uv.lock to version control.
    Use --locked in CI for reproducibility.
    Cache with --cache-dir for faster builds.
    For large projects, use --resolution lowest-direct for minimal versions.

Troubleshooting

    Cache issues: uv cache clean.
    Python not found: Use uv python install.
    Conflicts: Check uv tree for dependency graph.
    Verbose logging: uv --verbose or RUST_LOG=debug.
